{ 
  "node_types": {
    "$id": "http://ditrit.io/schemas/node_types",
    "dictIdsDefinition": {
      "dictProperties": {
        "derived_from": { "instanceof": "Str" },
        "version":      { "instanceof": "Version" },
        "metadata":     { "$ref": "metadata" },
        "description":  { "$ref": "description" },        
        "properties":   { "$ref": "properties" },
        "attributes":   { "$ref": "attributes" },
        "capabilities": { "$ref": "capability_defs" },
        "requirements": { "$ref": "requirement_defs" },
        "interfaces":   { "$ref": "interface_defs" },
        "artifacts":    { "$ref": "artifact_defs" },
        "workflows":    { "$ref": "declarative_workflow_node_defs" }
      }
    }
  },

  "relationship_types": {
    "$id": "http://ditrit.io/schemas/relationship_types",
    "dictIdsDefinition": {
      "dictProperties": {
        "derived_from":       { "instanceof": "Str" },
        "version":            { "instanceof": "Version" },
        "metadata":           { "$ref": "metadata" },
        "description":        { "$ref": "description" },
        "properties":         { "$ref": "properties" },
        "attributes":         { "$ref": "attributes" },
        "interfaces":         { "$ref": "interface_defs" },
        "valid_target_types": { "listItems": { "instanceof": "Str" } },
        "workflows":          { "$ref": "declarative_workflow_rel_defs" }
      }
    }
  },

  "group_types": {
    "$id": "http://ditrit.io/schemas/group_types",
    "dictIdsDefinition": {
      "dictProperties": {
        "derived_from":       { "instanceof": "Str" },
        "version":            { "instanceof": "Version" },
        "metadata":           { "$ref": "metadata" },
        "description":        { "$ref": "description" },
        "properties":         { "$ref": "properties" },
        "capabilities":       { "$ref": "capability_defs" },
        "requirements":       { "$ref": "requirement_defs" },
        "interfaces":         { "$ref": "interface_defs" },
        "members":            { "listItems": { "instanceof": "Str" } }
      }
    }
  },

  "trigger_defs": {
    "$id": "http://ditrit.io/schemas/trigger_defs",
    "dictIdsDefinition": {
      "dictProperties": {
        "description":   { "$ref": "description" },
        "event": {
          "anyOf": [
            { "instanceof": "Str" },
            { "dictProperties": { "type": { "instanceof": "Str"} } }
          ]
        },
        "schedule":      { "instanceof": "Value" },
        "target_filter": {},
        "condition":     {
          "anyOf": [
            { "$ref": "constraint" },
            { "dictProperties": { "constraint": { "$ref": "constraint" } } }
          ]
        },
        "period":        { "instanceof": "ScalarUnitTime"  },
        "evaluations":   { "instanceof": "Int" },
        "method":        { "instanceof": "Str"},
        "action": {
          "anyOf": [
            { "instanceof": "Str"},
            { "$ref": "operation_def" }
          ]
        }
      }
    }
  },

  "policy_types": {
    "$id": "http://ditrit.io/schemas/policy_types",
    "dictIdsDefinition": {
      "dictProperties": {
        "derived_from":       { "instanceof": "Str" },
        "version":            { "instanceof": "Version" },
        "metadata":           { "$ref": "metadata" },
        "description":        { "$ref": "description" },
        "properties":         { "$ref": "properties" },
        "targets":            { "listItems": { "instanceof": "Str" } },
        "triggers":           { "$ref": "trigger_defs"}
      }
    }
  },

  "topology_template": {
    "$id": "http://ditrit.io/schemas/topology_template",
    "dictProperties": {
       "description":               { "$ref": "description"},
       "inputs":                    {},
       "outputs":                   {},
       "node_templates":            {},
       "relationship_templates":    {},
       "groups":                    {},
       "policies":                  {},
       "substitution_mappings":     {},
       "workflows":                 {}
    }
  },

  "service_template": {
    "$id": "http://ditrit.io/schemas/service_template",
    "dictRequired": [ "tosca_definitions_version" ],
    "dictProperties": {
       "tosca_definitions_version": { "instanceof": "Str"},
       "description":               { "$ref": "description"},
       "namespace" :                { "$ref": "imports" },
       "metadata" :                 { "$ref": "metadata"},
       "repositories" :             { "$ref": "repositories"},
       "imports" :                  { "$ref": "imports" },
       "artifact_types" :           { "$ref": "artifact_types"},
       "data_types" :               { "$ref": "data_types" },
       "capability_types" :         { "$ref": "capability_types"},
       "interface_types" :          { "$ref": "interface_types"},
       "relationship_types" :       { "$ref": "relationship_types"},
       "node_types" :               { "$ref": "node_types"},
       "group_types" :              {},
       "policy_types" :             {},
       "topology_template" :        { "$ref": "topology_template" }
    }
  }
}